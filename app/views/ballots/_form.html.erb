<%
require 'wayground_form_builder'

# requires `ballot` local variable
# optional offices, office_id, election, level local variables
election ||= ballot.election
level ||= election.level
offices ||= nil
office_id ||= nil
%><%= form_for([level, election, ballot], :builder => WaygroundFormBuilder) do |f| %>
<%= show_errors(ballot) %>
<table><tbody>
<%
if offices
  %><tr><th><label for="office_id">Office</label></th>
  <td><%= select_tag 'office_id', options_from_collection_for_select(offices, 'to_param', 'name', office_id), include_blank: true %></td></tr>
<%
end -%>
<tr><th><%= f.label :term_start_on %></th>
  <td><%= f.date_field :term_start_on %> (date)</td></tr>
<tr><th><%= f.label :term_end_on %></th>
  <td><%= f.date_field :term_end_on %> (date)</td></tr>
<tr><th></th>
  <td><%= f.check_box :is_byelection %> <%= f.label :is_byelection %></td></tr>
<tr><th><%= f.label :url %></th>
  <td><%= f.url_field :url, size: 60, placeholder: 'http://' %></td></tr>
<tr><th><%= f.label :description %></th>
  <td><%= f.text_area :description, rows: 4 %></td></tr>
</tbody>
<tfoot><tr><th></th><td class="actions"><%= f.submit('Save Ballot') %></td></tr></tfoot>
</table>
<% end %>
